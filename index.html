<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>AteÅŸli Rulet â€“ 16 Dilim (Sesli)</title>
<style>
:root{
  --bg1:#050008; --bg2:#000;
  --n1:#ff3b7a; --n2:#ff7aa2;
}
*{box-sizing:border-box}
body{
  margin:0; min-height:100vh;
  display:flex; align-items:center; justify-content:center;
  background:radial-gradient(circle at top, var(--bg1), var(--bg2));
  font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:#fff;
}
.wrap{width:100%; max-width:460px; text-align:center; padding:12px}
.wheel-wrap{position:relative; width:340px; height:340px; margin:8px auto 14px}
.pointer{
  position:absolute; top:-18px; left:50%; transform:translateX(-50%);
  width:0;height:0;
  border-left:14px solid transparent;
  border-right:14px solid transparent;
  border-bottom:24px solid var(--n1);
  filter:drop-shadow(0 0 10px rgba(255,59,122,.9));
  z-index:6;
}
.wheel{
  width:100%; height:100%; border-radius:50%;
  box-shadow:0 0 55px rgba(255,59,122,.55), inset 0 0 18px rgba(0,0,0,.6);
  transition:transform 2.4s cubic-bezier(.12,.8,.12,1);
  position:relative;
  overflow:hidden;
}
.slice{
  position:absolute; width:50%; height:50%;
  left:50%; top:50%;
  transform-origin:0% 0%;
}
.slice .label{
  position:absolute; left:6px; top:50%;
  transform:translateY(-50%) rotate(90deg);
  width:150px;
  font-size:12px; line-height:1.1; text-align:left;
  color:#fff; opacity:.95;
}
.center-btn{
  position:absolute; inset:0; margin:auto;
  width:100px; height:100px; border-radius:50%;
  border:none; cursor:pointer;
  background:#070007; color:var(--n2);
  font-weight:900; font-size:18px; letter-spacing:.6px;
  box-shadow:0 0 30px rgba(255,59,122,.95), inset 0 0 10px rgba(255,255,255,.06);
  z-index:7;
}
.center-btn:active{transform:scale(.96)}
.result{
  min-height:56px; margin-top:6px; padding:10px 12px;
  border-radius:12px; background:rgba(255,255,255,.04);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.06);
  font-size:18px;
}
.note{opacity:.65; font-size:13px; margin-top:6px}
</style>
</head>
<body>
<div class="wrap">
  <div class="wheel-wrap">
    <div class="pointer"></div>
    <div id="wheel" class="wheel"></div>
    <button class="center-btn" id="spinBtn">Ã‡EVÄ°R</button>
  </div>
  <div id="result" class="result">Ã‡evir ve bakalÄ±m nerede duracakâ€¦</div>
  <div class="note">Tamamen rastgele. Ok neredeyse orasÄ±.</div>
</div>

<script>
// ====== DÄ°LÄ°MLER (16) ======
const options = [
  "GÃ¶z temasÄ±nÄ± bozma (20 sn)",
  "YaklaÅŸ ama dokunma (15 sn)",
  "Elini beline koy (15 sn)",
  "KulaÄŸÄ±na tek kelime fÄ±sÄ±lda",
  "Omzuna hafif temas (10 sn)",
  "YaklaÅŸâ€“geri Ã§ekil ritmi",
  "Nefesini yakÄ±ndan hissettir",
  "YavaÅŸ sarÄ±l (20 sn)",
  "Boynuna Ã§ok hafif temas",
  "Eller belde, bakÄ±ÅŸÄ± koru",
  "YakÄ±n dur, kÄ±sa cÃ¼mle fÄ±sÄ±lda",
  "TemasÄ± yavaÅŸlat (20 sn)",
  "YakÄ±nlÄ±ÄŸÄ± artÄ±r (25 sn)",
  "BakÄ±ÅŸ + temas uyumu (30 sn)",
  "YaklaÅŸÄ±p geri Ã§ekil (30 sn)",
  "Sessiz kal, temas konuÅŸsun"
];

// ====== Ã‡ARKI Ã‡Ä°Z ======
const wheel = document.getElementById("wheel");
const sliceDeg = 360 / options.length;

options.forEach((txt, i)=>{
  const s = document.createElement("div");
  s.className = "slice";
  const rot = i * sliceDeg;
  s.style.transform = `rotate(${rot}deg)`;
  s.style.background = i % 2 ? "var(--n2)" : "var(--n1)";
  s.style.clipPath = "polygon(0 0, 100% 0, 0 100%)";

  const label = document.createElement("div");
  label.className = "label";
  label.textContent = txt;

  s.appendChild(label);
  wheel.appendChild(s);
});

// ====== SES (CASINO RULETÄ°) ======
let audioCtx, tickTimer;

function playTick(){
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.type = "square";
  osc.frequency.value = 1100;
  gain.gain.value = 0.06;
  osc.connect(gain).connect(audioCtx.destination);
  osc.start();
  osc.stop(audioCtx.currentTime + 0.02);
}

function playClack(){ // sonda TAK
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.type = "square";
  osc.frequency.value = 260;
  gain.gain.value = 0.12;
  osc.connect(gain).connect(audioCtx.destination);
  osc.start();
  osc.stop(audioCtx.currentTime + 0.06);
}

function startRouletteSound(){
  audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  let interval = 70; // baÅŸta hÄ±zlÄ±
  tickTimer = setInterval(function tick(){
    playTick();
    interval += 14; // yavaÅŸlasÄ±n
    clearInterval(tickTimer);
    tickTimer = setInterval(tick, interval);
  }, interval);
}

function stopRouletteSound(){
  clearInterval(tickTimer);
  playClack(); // ðŸ›‘ TAK
  setTimeout(()=>{ audioCtx && audioCtx.close(); }, 120);
}

// ====== DÃ–NDÃœRME ======
let angle = 0;
let spinning = false;

document.getElementById("spinBtn").onclick = ()=>{
  if(spinning) return;
  spinning = true;

  startRouletteSound(); // ðŸ”Š SES BAÅžLA

  const idx = Math.floor(Math.random() * options.length); // tamamen rastgele
  const stopAt = 360*3 + (idx * sliceDeg) + sliceDeg/2;
  angle += stopAt;
  wheel.style.transform = `rotate(${angle}deg)`;

  setTimeout(()=>{
    document.getElementById("result").innerText = options[idx];
    stopRouletteSound(); // ðŸ”‡ Sonda TAK
    spinning = false;
  }, 2400);
};
</script>
</body>
</html>
